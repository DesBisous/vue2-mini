{"version":3,"file":"index.js","sources":["../../src/code/utils/env.js","../../src/code/utils/index.js","../../src/code/observer/dep.js","../../src/code/vdom/vnode.js","../../src/code/observer/array.js","../../src/code/observer/index.js","../../src/code/instance/state.js","../../src/compiler/astParser.js","../../src/compiler/generate.js","../../src/compiler/index.js","../../src/code/observer/scheduler.js","../../src/code/observer/Watcher.js","../../src/shared/util.js","../../src/code/vdom/patchTypes.js","../../src/code/vdom/diff.js","../../src/code/vdom/rnode.js","../../src/code/vdom/doPatch.js","../../src/code/vdom/patch.js","../../src/code/instance/lifecycle.js","../../src/code/init.js","../../src/code/vdom/index.js","../../src/index.js"],"sourcesContent":["// can we use __proto__?\nexport const hasProto = '__proto__' in {}\n\n// Browser environment sniffing\nexport const inBrowser = typeof window !== 'undefined'\nexport const UA = inBrowser && window.navigator.userAgent.toLowerCase()\nexport const isIE = UA && /msie|trident/.test(UA)\nexport const isIE9 = UA && UA.indexOf('msie 9.0') > 0\nexport const isEdge = UA && UA.indexOf('edge/') > 0\nexport const isAndroid = UA && UA.indexOf('android') > 0\nexport const isIOS = UA && /iphone|ipad|ipod|ios/.test(UA)\nexport const isChrome = UA && /chrome\\/\\d+/.test(UA) && !isEdge\n\nexport const nextTick = function (watcher) {\n  const nextTickHandler = watcher.run.bind(watcher);\n  let timerFunc;\n  // 这里兼容集中异步 Api 处理\n  if (typeof setImmediate !== 'undefined') {\n    timerFunc = () => {\n      setImmediate(nextTickHandler);\n    };\n  } else if (typeof MessageChannel !== 'undefined') {\n    const channel = new MessageChannel();\n    const port = channel.port2;\n    channel.port1.onmessage = nextTickHandler;\n    timerFunc = () => {\n      port.postMessage(1)\n    }\n  } else\n    if (typeof Promise !== 'undefined') {\n      const p = Promise.resolve();\n      timerFunc = () => {\n        p.then(nextTickHandler);\n      }\n    } else {\n      timerFunc = () => {\n        setTimeout(nextTickHandler, 0);\n      }\n    }\n  // 开启异步更新\n  timerFunc();\n}","function proxy(vm, target, key) {\n  Object.defineProperty(vm, key, {\n    get() {\n      return vm[target][key];\n    },\n    set(newValue) {\n      if (newValue === vm[target][key]) return;\n      vm[target][key] = newValue;\n    }\n  })\n}\n\nfunction isObject(value) {\n  return typeof value === 'object' && value !== null;\n}\n\nfunction isArray(value) {\n  return Array.isArray(value);\n}\n\nfunction def(data, key, value, enumerable) {\n  Object.defineProperty(data, key, {\n    configurable: true,\n    enumerable: !!enumerable,\n    writable: true,\n    value\n  })\n}\n\nfunction remove(arr, item) {\n  if (arr.length) {\n    var index = arr.indexOf(item);\n    if (index > -1) {\n      return arr.splice(index, 1)\n    }\n  }\n}\n\nconst bailRE = /[^\\w.$]/\nfunction parsePath(path) {\n  if (bailRE.test(path)) {\n    return\n  }\n  const segments = path.split('.')\n  return function (obj) {\n    for (let i = 0; i < segments.length; i++) {\n      if (!obj) return\n      obj = obj[segments[i]]\n    }\n    return obj\n  }\n}\n\nexport * from './env';\n\nexport {\n  proxy,\n  isObject,\n  isArray,\n  def,\n  remove,\n  parsePath\n};","import { remove } from '../utils';\n\nlet uid = 0;\n\nexport default class Dep {\n  constructor() {\n    this.id = uid++;\n    this.subs = [];\n  }\n\n  addSub(sub) {\n    this.subs.push(sub);\n  }\n\n  removeSub(sub) {\n    remove(this.subs, sub);\n  }\n\n  depend() {\n    // 给当前 Watcher push 依赖，为了后续和 dep 的 subs 进行比较，移除掉无用的依赖，\n    // 意思就是没用到的属性，在属性变更后就不要通知相对应的 Watcher 了\n    if (Dep.target) {\n      Dep.target.addDep(this); // Watcher 对象中的 addDep，里面会调用 dep.addSub()\n    }\n  }\n\n  notify() {\n    // stabilize the subscriber list first\n    const subs = this.subs.slice(); // 浅拷贝\n    for (let i = 0, l = subs.length; i < l; i++) {\n      subs[i].update(); // 触发依赖更新函数\n    }\n  }\n}\n\nDep.target = null;\nconst targetStack = [];\n\nexport function pushTarget(_target) {\n  if (Dep.target) targetStack.push(Dep.target);\n  Dep.target = _target;\n}\n\nexport function popTarget() {\n  Dep.target = targetStack.pop();\n}","class VNode {\n  constructor(tag, props, children, text) {\n    this.tag = tag;\n    this.props = props;\n    this.children = children;\n    this.text = text;\n  }\n}\n\nfunction createElementVNode(tag, attrs = {}, ...children) {\n  return new VNode(tag, attrs, children);\n}\n\nfunction createTextVNode(text) {\n  return new VNode(undefined, undefined, undefined, text);\n}\n\nexport {\n  VNode,\n  createElementVNode,\n  createTextVNode\n}","import { def } from \"../utils\";\n\nconst originArrMethods = Array.prototype,\n  arrayMethods = Object.create(originArrMethods); // 创建一个对象， 并继承 Array.prototype\n\nconst ARR_METHODS = [\n  'push',\n  'pop',\n  'shift',\n  'unshify',\n  'reverse',\n  'sort',\n  'splice',\n];\n\nARR_METHODS.forEach(function (method) {\n  def(arrayMethods, method, function (...args) {\n    const result = originArrMethods[method].apply(this, args),\n      ob = this.__ob__;\n\n\n    let newArr;\n\n    switch (method) {\n      case 'push':\n      case 'unshift':\n        newArr = args;\n        break;\n      case 'splice':\n        newArr = args[2];\n        break;\n      default: break;\n    }\n\n    // 对数组新加入的元素进行数据劫持\n    if (newArr) ob.observeArray(newArr);\n    // notify change\n    ob.dep.notify();\n    // 返回原函数执行结果\n    return result;\n  })\n})\n\nexport {\n  arrayMethods\n}","import Dep from './dep';\nimport { VNode } from '../vdom/vnode';\nimport { arrayMethods } from './array';\nimport { isArray, isObject, def, hasProto } from \"../utils\";\n\nconst arrayKeys = Object.getOwnPropertyNames(arrayMethods);\n\nclass Observer {\n  constructor(data) {\n    this.dep = new Dep();\n    def(data, '__ob__', this);\n\n    if (isArray(data)) {\n      const augment = hasProto\n        ? protoAugment\n        : copyAugment\n      augment(data, arrayMethods, arrayKeys)\n      this.observeArray(data);\n    } else {\n      this.walk(data);\n    }\n  }\n\n  walk(data) {\n    const keys = Object.keys(data);\n    keys.forEach(function (key) {\n      defineReactive(data, key, data[key]);\n    });\n  }\n\n  observeArray(data) {\n    data.forEach(function (item) {\n      observe(item);\n    });\n  }\n}\n\nfunction protoAugment(target, src, keys) {\n  target.__proto__ = src\n}\n\nfunction copyAugment(target, src, keys) {\n  for (let i = 0, l = keys.length; i < l; i++) {\n    const key = keys[i]\n    def(target, key, src[key])\n  }\n}\n\nfunction defineReactive(data, key, val) {\n  const dep = new Dep(); // 闭包一个依赖对象\n\n  // 查找属性的描述器\n  const property = Object.getOwnPropertyDescriptor(data, key)\n  if (property && property.configurable === false) {\n    return\n  }\n\n  // 判断是否属性本身设置过存储器描述\n  const getter = property && property.get\n  const setter = property && property.set\n\n  let childOb = observe(val); // 对值内部的属性进行数据劫持，这里源码中会做一个 shallow 判断，是否一开始深层进行依赖\n\n  Object.defineProperty(data, key, {\n    enumerable: true,\n    configurable: true,\n    get() {\n      const value = getter ? getter.call(data) : val;\n      if (Dep.target) {\n        dep.depend(); // 收集依赖,包括 Watcher 收集 dep 和 dep 收集 Watcher\n        if (childOb) {\n          /**\n           * 子数据响应对象本身的 this.dep 也进行依赖收集\n           * 这里其实对于数组方法重写的劫持触发更新，就是调用这里的 this.dep\n           * {a: [1, 2]}\n           * a 会闭包一个 dep 依赖，然后 value：[1, 2] 会构建出 ob 然后对 ob.dep 也会收集当前的依赖\n           */\n          childOb.dep.depend();\n          if (Array.isArray(value)) {\n            // 如果是数组，对里面每一个响应对象本身的 this.dep 也进行依赖收集\n            dependArray(value);\n          }\n        }\n      }\n      // console.log('响应式获取：' + value);\n      return value;\n    },\n    set(newVal) {\n      const value = getter ? getter.call(newVal) : val;\n      // 这里的 newVal !== newVal && value !== value 为了避免 newVal 和 value 是一个 NaN，很严谨\n      if (newVal === value || (newVal !== newVal && value !== value)) {\n        return\n      }\n      // console.log('响应式设置：' + key + ' = ' + newVal);\n      if (setter) {\n        setter.call(data, newVal)\n      } else {\n        val = newVal\n      }\n      observe(newVal); // 对值内部的属性进行数据劫持，这里源码中会做一个 shallow 判断，是否一开始深层进行依赖\n      dep.notify(); // 触发依赖更新函数\n    }\n  })\n}\n\nfunction dependArray(value) {\n  for (let e, i = 0, l = value.length; i < l; i++) {\n    e = value[i]\n    e && e.__ob__ && e.__ob__.dep.depend()\n    if (Array.isArray(e)) {\n      dependArray(e)\n    }\n  }\n}\n\nfunction observe(data) {\n  if (!isObject(data) || data instanceof VNode) {\n    return;\n  }\n  let ob;\n  if (data.__ob__) {\n    ob = data.__ob__;\n  } else {\n    ob = new Observer(data);\n  }\n  return ob;\n}\n\nexport {\n  observe\n}","import { observe } from \"../observer\";\nimport { proxy } from '../utils';\n\nfunction initState(vm) {\n  vm._watchers = [];\n  const options = vm.$options;\n\n  if (options.props) {\n    initProps(vm);\n  }\n\n  if (options.methods) {\n    initMethods(vm);\n  }\n\n  if (options.data) {\n    initData(vm);\n  }\n\n  if (options.computed) {\n    initComputed(vm);\n  }\n\n  if (options.watch) {\n    initWatch(vm);\n  }\n}\n\nfunction initProps(vm) {\n\n}\n\nfunction initMethods(vm) { }\n\nfunction initData(vm) {\n  let data = vm.$options.data;\n\n  vm._data = data = typeof data === 'function' ? data.call(vm) : data;\n\n  for (let key in data) {\n    proxy(vm, '_data', key);\n  }\n\n  observe(data);\n}\n\nfunction initComputed(vm) { }\n\nfunction initWatch(vm) {\n\n}\n\nexport {\n  initState\n}","// id=\"app\" id='app' id=app\nconst attribute = /^\\s*([^\\s\"'<>\\/=]+)(?:\\s*(=)\\s*(?:\"([^\"]*)\"+|'([^']*)'+|([^\\s\"'=<>`]+)))?/;\nconst dynamicArgAttribute = /^\\s*((?:v-[\\w-]+:|@|:|#)\\[[^=]+?\\][^\\s\"'<>\\/=]*)(?:\\s*(=)\\s*(?:\"([^\"]*)\"+|'([^']*)'+|([^\\s\"'=<>`]+)))?/;\n//标签名  <my-header></my-header>\nconst ncname = `[a-zA-Z_][\\\\-\\\\.0-9_a-zA-Z]*`;\n// <my:header></my:header>\nconst qnameCapture = `((?:${ncname}\\\\:)?${ncname})`;\n// <div\nconst startTagOpen = new RegExp(`^<${qnameCapture}`);\n// > />\nconst startTagClose = /^\\s*(\\/?)>/;\n// </div>\nconst endTag = new RegExp(`^<\\\\/${qnameCapture}[^>]*>`);\n\n// 以上正则是从官方 Vue 源码扣的\n\nfunction parseHtmlToAst(html) {\n  let text,\n    root,\n    currentParent,\n    stack = [];\n\n  while (html) {\n    // 查找 < 它包括例如： <div> </div>\n    let textEnd = html.indexOf('<');\n\n    if (textEnd === 0) {\n      // 获取到标签组装好的结构对象\n      const startTagMatch = parseStartTag();\n\n      // 对改标签进行子父层级处理\n      if (startTagMatch) {\n        start(startTagMatch.tagName, startTagMatch.attrs);\n        continue;\n      }\n\n      // 获取标签结束 </div> 进行配置\n      const endTagMatch = html.match(endTag);\n\n      if (endTagMatch) {\n        // 删除结束标签的字符\n        advance(endTagMatch[0].length);\n        // 遇到结束标签，进行父子管理处理\n        end();\n        continue;\n      }\n    }\n\n    if (textEnd > 0) {\n      text = html.substring(0, textEnd);\n    }\n\n    if (text) {\n      advance(text.length);\n      chars(text);\n    }\n  }\n\n  function parseStartTag() {\n    const start = html.match(startTagOpen);\n\n    let end, attr;\n\n    if (start) {\n      // 保存标签名\n      const match = {\n        tagName: start[1],\n        attrs: [],\n      };\n      // 删除匹配项\n      advance(start[0].length);\n\n      // 开始匹配标签属性\n      while (!(end = html.match(startTagClose)) && (attr = html.match(dynamicArgAttribute) || html.match(attribute))) {\n        match.attrs.push({\n          name: attr[1],\n          value: attr[3] || attr[4] || attr[5]\n        });\n        advance(attr[0].length);\n      }\n\n      if (end) {\n        // 删除匹配项\n        advance(end[0].length);\n        return match;\n      }\n    }\n  }\n\n  // 对 html 删除匹配项长度父子\n  function advance(len) {\n    html = html.substring(len);\n  };\n\n  // 对开始标签进行父子关系处理\n  function start(tagName, attrs) {\n    const element = createASTElement(tagName, attrs);\n\n    if (!root) {\n      root = element;\n    }\n\n    stack.push(element);\n    currentParent = element;\n  }\n\n  // 对结束标签进行父子关系处理\n  function end() {\n    // 出栈，出栈的就是当前匹配到的结束标签\n    const element = stack.pop();\n\n    // 判断是否有父级\n    if (stack.length > 0) {\n      // 取出父级\n      currentParent = stack[stack.length - 1];\n      // 处理父子关系\n      element.parent = currentParent;\n      currentParent.children.push(element);\n    }\n  }\n\n  function chars(text) {\n    text = text.trim();\n\n    if (text.length > 0) {\n      currentParent.children.push({\n        type: 3,\n        text\n      });\n    }\n  }\n\n  // 组装 AST 标签对象结构\n  function createASTElement(tagName, attrs) {\n    return {\n      tag: tagName,\n      type: 1,\n      children: [],\n      attrs,\n      parent: Window\n    }\n  }\n\n  return root;\n}\n\nexport {\n  parseHtmlToAst\n}","// 判断是否为 {{  }} 这种文本\nconst defaultTagRE = /\\{\\{((?:.|\\r?\\n)+?)\\}\\}/g;\nconst dynamicAttrRE = /^:.+$/;\n\n// 源码的方法名为：genProps，位置：vue/src/compiler/codegen/index.js\nfunction formatProps(attrs) {\n  let attrStr = '';\n  let dynamicAttrStr = '';\n  let dynamic = false;\n\n  attrs.forEach(item => {\n    dynamic = dynamicAttrRE.test(item.name);\n    if (item.name === 'style') {\n      let styleAttrs = {};\n      item.value.split(';').forEach((subItem) => {\n        const [key, value] = subItem.split(':');\n        styleAttrs[key] = value;\n      })\n      item.value = styleAttrs;\n    }\n    if (dynamic) {\n      dynamicAttrStr += `\"${item.name.slice(1)}\", ${item.value},`;\n    } else {\n      attrStr += `${item.name}: ${JSON.stringify(item.value)},`;\n    }\n  })\n\n  attrStr = `{${attrStr.slice(0, -1)}}`\n\n  if (dynamicAttrStr) {\n    return `_d(${attrStr}, [${dynamicAttrStr.slice(0, -1)}])`;\n  } else {\n    return attrStr;\n  }\n}\n\nfunction generateChild(node) {\n  if (node.type === 1) {\n    return generate(node);\n  } else if (node.type === 3) {\n    let text = node.text;\n\n    if (!defaultTagRE.test(text)) {\n      // 这里需要 JSON.stringify 在包一下，否者会出现 _v(hello) 解析的时候 hello 不就成了变量了\n      return `_v(${JSON.stringify(text)})`\n    }\n\n    let match,\n      index, // 保存正则成功解析项的开始索引\n      // defaultTagRE.lastIndex 会在正则解析的时候，一直处于匹配项末端的索引，下一轮匹配就从 defaultTagRE.lastIndex 开始\n      lastIndex = defaultTagRE.lastIndex = 0,\n      textArr = [];\n\n    while (match = defaultTagRE.exec(text)) {\n      index = match.index; // 保存正则成功解析项的开始索引\n      if (index > lastIndex) {\n        textArr.push(JSON.stringify(text.slice(lastIndex, index)));\n      }\n      // 这里不需要 JSON.stringify 原因是，match[1] 指的就是 data 的属性\n      textArr.push(`_s(${match[1].trim()})`);\n      lastIndex = index + match[0].length;\n    }\n\n    // 正则匹配不到了，但是还剩下静态文本\n    if (lastIndex < text.length) {\n      textArr.push(JSON.stringify(text.slice(lastIndex)));\n    }\n\n    // _v('我的姓名是：'+{{name}}+'，请多多关照~')\n    return `_v(${textArr.join('+')})`;\n  }\n}\n\nfunction getChildren(el) {\n  const children = el.children;\n\n  if (children) {\n    return children.map(c => generateChild(c)).join(',');\n  }\n}\n\nfunction generate(el) {\n  const children = getChildren(el);\n\n  const code = `_c(${JSON.stringify(el.tag)}, ${el.attrs.length > 0 ?\n    formatProps(el.attrs) : 'undefined'\n    }${children ?\n      `, ${children}` : ''\n    })`;\n\n  return code;\n};\n\nexport {\n  generate,\n}\n\n","\nimport { parseHtmlToAst } from './astParser';\nimport { generate } from './generate';\n\nfunction compileToRenderFunction(html) {\n  const ast = parseHtmlToAst(html),\n    code = generate(ast),\n    render = new Function(`\n    with(this){ return ${code}; }\n  `);\n  console.log('AST:', ast);\n  console.log('render:', code);\n  return render;\n}\n\nexport {\n  compileToRenderFunction\n}","import { nextTick } from '../utils';\n\nfunction queueWatcher(watcher) {\n  nextTick(watcher);\n};\n\nexport {\n  queueWatcher\n}","import { parsePath } from '../utils';\nimport { pushTarget, popTarget } from './dep';\nimport { queueWatcher } from './scheduler';\n\nlet uid = 0;\n\nexport default class Watcher {\n  constructor(vm, expOrFn, options) {\n    this.vm = vm;\n    vm._watchers.push(this);\n\n    // options 源码中还有更多，比如：deep\n    if (options) {\n      this.lazy = !!options.lazy;\n    } else {\n      this.lazy = false;\n    }\n\n    this.id = ++uid;\n    this.deps = []; // 存储和当前 watcher 相关的响应式属性的 dep\n    this.newDeps = []; // 新的 deps\n    this.depIds = new Set();\n    this.newDepIds = new Set();\n\n    if (typeof expOrFn === 'function') {\n      this.getter = expOrFn;\n    } else {\n      // parsePath 解析属性(a.b.c)对应在 vm 的 value，源码存在但本处不涉及到\n      this.getter = parsePath(expOrFn);\n      if (!this.getter) {\n        this.getter = function () { }\n        process.env.NODE_ENV !== 'production' && console.warn(\n          `Failed watching path: \"${expOrFn}\" ` +\n          'Watcher only accepts simple dot-delimited paths. ' +\n          'For full control, use a function instead.'\n        )\n      }\n    }\n\n    // 初次执行\n    this.value = this.lazy\n      ? undefined\n      : this.get();\n  }\n\n  get() {\n    // 这就是让 Dep.target 保存当前的 Watcher\n    pushTarget(this);\n    try {\n      this.getter(); // 执行更新函数\n    } catch (e) {\n      throw e;\n    } finally {\n      popTarget(); // 弹出 Dep.Target\n      this.cleanupDeps(); // 做 Watcher 的 dep 清除\n    }\n  }\n\n  addDep(dep) {\n    const id = dep.id;\n    // 当前 Watcher 的新 depIds 不存在，这加入传进来的 dep\n    if (!this.newDepIds.has(id)) {\n      this.newDepIds.add(id);\n      this.newDeps.push(dep); // Watcher 关联的 dep 保存\n      // Watcher 关联的 dep 没有保存过，让 dep 收集当前的 Watcher 依赖\n      // Watcher 已保存过了 dep 那就说明，当前 dep 也已经收集了当前 Watcher 了，所有就不需要让 dep 收集依赖了\n      if (!this.depIds.has(id)) {\n        dep.addSub(this);\n      }\n    }\n  }\n\n  /**\n   * Clean up for dependency collection.\n   */\n  cleanupDeps() {\n    // 源码有更多\n    this.depIds = this.newDepIds;\n    this.newDepIds.clear(); // 清除最新记录 depIds 集合\n    this.deps = this.newDeps;\n    this.newDeps.length = 0; // 清除最新记录 dep 集合\n  }\n\n  update() {\n    // 这里的话，源码中会有更多的判断\n    // 一般来说更新的话，会进行异步更新，会涉及到 nextTick 函数\n    // 最终会执行 run() 函数\n    queueWatcher(this);\n  }\n\n  run() {\n    this.get();\n  }\n}","export function isUndef(v) {\n  return v === undefined || v === null\n}\n\nexport function isDef(v) {\n  return v !== undefined && v !== null\n}","export const ATTR = 'ATTR';\nexport const TEXT = 'TEXT';\nexport const REPLACE = 'REPLACE';\nexport const REMOVE = '';","import { ATTR, TEXT, REMOVE, REPLACE } from './patchTypes';\n\n// 存储 diff 产生的补丁\nlet patches = {};\nlet vnIndex = 0;\n\nfunction diff(oldVnode, vnode) {\n  patches = {};\n  vnIndex = 0;\n  const index = 0; // 初始从零开始\n  vNodeWalk(oldVnode, vnode, index);\n  return patches;\n}\n\nfunction vNodeWalk(oldVnode, vnode, index) {\n  const vnPatch = [];\n\n  if (!vnode) {\n    // 新 vnode 被删除了\n    vnPatch.push({\n      type: REMOVE,\n      index\n    });\n  } else if (oldVnode.text && vnode.text) {\n    if (oldVnode.text !== vnode.text) {\n      vnPatch.push({\n        type: TEXT,\n        text: vnode.text\n      });\n    }\n  } else if (oldVnode.tag === vnode.tag) {\n    const attrsPatch = attrsWalk(oldVnode.props, vnode.props);\n    if (Object.keys(attrsPatch).length) {\n      vnPatch.push({\n        type: ATTR,\n        attrs: attrsPatch\n      });\n    }\n    childrenWalk(oldVnode.children, vnode.children);\n  } else {\n    vnPatch.push({\n      type: REPLACE,\n      vnode\n    });\n  }\n\n  if (vnPatch.length) {\n    patches[index] = vnPatch;\n  }\n}\n\nfunction attrsWalk(oldProps, newProps) {\n  const attrsPatch = {};\n\n  for (const key in oldProps) {\n    if (JSON.stringify(oldProps[key]) !== JSON.stringify(newProps[key])) {\n      // 旧有，新没，会压入 undefined\n      // 旧有，新有，替换\n      attrsPatch[key] = newProps[key];\n    }\n  }\n\n  for (const key in newProps) {\n    if (!oldProps.hasOwnProperty(key)) {\n      // 旧没，新有，新增\n      attrsPatch[key] = newProps[key];\n    }\n  }\n  return attrsPatch;\n}\n\nfunction childrenWalk(oldChildren, newChildren) {\n  oldChildren.map((child, idx) => {\n    vNodeWalk(child, newChildren[idx], ++vnIndex);\n  })\n}\n\nexport {\n  diff\n};","function createElement(vnode) {\n  const { tag, props, children, text } = vnode;\n  if (typeof tag === 'string') {\n    vnode.el = document.createElement(tag);\n    updateProps(vnode);\n    children.forEach(function (child) {\n      vnode.el.appendChild(createElement(child));\n    })\n  } else {\n    vnode.el = document.createTextNode(text);\n  }\n  return vnode.el;\n}\n\nfunction updateProps(vnode) {\n  const el = vnode.el,\n    newProps = vnode.props || {};\n\n  handleProps(el, newProps);\n}\n\nfunction handleProps(rnode, props) {\n  for (let key in props) {\n    if (Object.hasOwnProperty.call(props, key)) {\n      if (!props[key]) {\n        rnode.removeAttribute(key);\n      } else if (key === 'style') {\n        for (let sKey in props[key]) {\n          if (Object.hasOwnProperty.call(props[key], sKey)) {\n            rnode.style[sKey] = props[key][sKey];\n          }\n        }\n      } else if (key === 'class') {\n        rnode.className = props[key];\n      } else if (key === 'value') {\n        if (rnode.tagName === 'INPUT' || rnode.tagName === 'TEXTAREA') {\n          rnode.value = props[key];\n        } else {\n          rnode.setAttribute(key, props[key]);\n        }\n      } else {\n        rnode.setAttribute(key, props[key]);\n      }\n    }\n  }\n}\n\nfunction removeElement(oldVnode) {\n  // 判断 oldVnode 是否是真实节点\n  const isRealElement = isDef(oldVnode.nodeType)\n  let el = isRealElement ? oldVnode : oldVnode.el;\n  const childNodes = el.childNodes;\n  for (const childNode of childNodes) {\n    removeNode(el, childNode);\n  }\n}\n\nfunction removeNode(parent, childNode) {\n  parent.removeChild(childNode);\n}\n\nexport {\n  createElement,\n  handleProps,\n  removeElement\n}","import { ATTR, TEXT, REMOVE, REPLACE } from './patchTypes';\nimport { createElement, handleProps } from './rnode';\n\nlet index = 0;\nlet finalPatches = {};\n\nfunction doPatch(el, patches) {\n  index = 0;\n  finalPatches = patches;\n  console.log(finalPatches)\n  rnodeWalk(el);\n}\n\nfunction rnodeWalk(rnode) {\n  const patch = finalPatches[index++],\n    childNodes = rnode.childNodes;\n\n  [...childNodes].map(c => rnodeWalk(c));\n\n  if (patch) {\n    patchAction(rnode, patch);\n  }\n}\n\nfunction patchAction(rnode, patch) {\n  for (const p of patch) {\n    switch (p.type) {\n      case ATTR:\n        handleProps(rnode, p.attrs)\n        break;\n      case TEXT:\n        rnode.textContent = p.text;\n        break;\n      case REMOVE:\n        rnode.parentNode.removeChild(rnode);\n        break;\n      case REPLACE:\n        rnode.parentNode.replaceChild(\n          createElement(p.vnode),\n          rnode\n        );\n        break;\n      default:\n        break;\n    }\n  }\n}\n\nexport {\n  doPatch\n}","\nimport { isUndef, isDef } from '../../shared/util.js';\nimport { diff } from './diff.js';\nimport { doPatch } from './doPatch.js';\nimport { createElement, removeElement } from './rnode.js';\n\nfunction patch(oldVnode, vnode) {\n  // 判断新的 vnode 不存在\n  if (isUndef(vnode)) {\n    // 判断旧节点存在\n    if (isDef(oldVnode)) {\n      // Vue 源码这里会执行销毁的生命周期函数，直接删除旧节点内容\n      removeElement(oldVnode);\n    }\n    return;\n  }\n\n  // 判断 oldVnode 是否是真实节点\n  const isRealElement = isDef(oldVnode.nodeType),\n    el = isRealElement ? oldVnode : oldVnode.el;\n\n  if (isRealElement) {\n    // 首次挂载\n    const nEl = createElement(vnode),\n      parentElement = el.parentElement;\n\n    // el.nextSibling 指的是 el 的兄弟节点\n    parentElement.insertBefore(nEl, el.nextSibling);\n    parentElement.removeChild(el);\n    return nEl;\n  } else {\n    // oldVnode 与 vnode diff 比较打补丁\n    const patches = diff(oldVnode, vnode);\n    if (Object.keys(patches).length) {\n      // 开始打补丁\n      doPatch(el, patches);\n    }\n    vnode.el = el;\n    return el;\n  }\n}\n\nexport {\n  patch\n};","\nimport Watcher from '../observer/Watcher';\nimport { patch } from '../vdom/patch';\n\nfunction mountComponent(vm, el) {\n  vm.$el = el;\n  // 做一些环境判断\n  if (!vm.$options.render) {\n    if (process.env.NODE_ENV !== 'production') {\n      if ((vm.$options.template && vm.$options.template.charAt(0) !== '#') ||\n        vm.$options.el || el) {\n        console.warn(\n          'You are using the runtime-only build of Vue where the template ' +\n          'compiler is not available. Either pre-compile the templates into ' +\n          'render functions, or use the compiler-included build.'\n        )\n      } else {\n        console.warn(\n          'Failed to mount component: template or render function not defined.'\n        )\n      }\n    }\n  }\n\n  // 这个方法在源码中声明时会根据 process.env.NODE_ENV !== 'production' 做一些额外处理\n  const updateComponent = () => {\n    vm._update(vm._render())\n  }\n\n  // 创建一个 render Watcher，这里会执行 updateComponent 对响应式数据做依赖搜集\n  vm._watcher = new Watcher(vm, updateComponent);\n\n}\n\nfunction lifecycleMixin(Vue) {\n  Vue.prototype._update = function (vnode) {\n    const vm = this,\n      prevVnode = vm._vnode;\n\n    // 保存当前 vnode\n    vm._vnode = vnode;\n\n    if (!prevVnode) {\n      vm.$el = patch(vm.$el, vnode);\n    } else {\n      vm.$el = patch(prevVnode, vnode);\n    }\n  }\n}\n\nexport {\n  lifecycleMixin,\n  mountComponent\n}","import { initState } from './instance/state';\nimport { compileToRenderFunction } from '../compiler';\nimport { mountComponent } from './instance/lifecycle';\n\nfunction initMixin(Vue) {\n    // 世界的开始\n    Vue.prototype._init = function (options) {\n        const vm = this;\n\n        vm.$options = options;\n\n        // 响应式劫持\n        initState(vm);\n\n        if (vm.$options.el) {\n            // 挂载函数 Vue.prototype.$mount\n            vm.$mount(vm.$options.el)\n        }\n    }\n\n    Vue.prototype.$mount = function (el) {\n        const vm = this,\n            options = vm.$options;\n\n        el = document.querySelector(el);\n\n        if (!options.render) {\n            let template = options.template;\n\n            if (!template) {\n                template = el.outerHTML;\n            }\n\n            // 构建 AST -> Render\n            const render = compileToRenderFunction(template);\n            options.render = render;\n        }\n        // console.log(options.render);\n        mountComponent(vm, el);\n    }\n}\n\nexport {\n    initMixin\n};","import { createElementVNode, createTextVNode } from './vnode';\n\nfunction renderMixin(Vue) {\n\n  Vue.prototype._c = function () {\n    return createElementVNode(...arguments);\n  }\n\n  Vue.prototype._v = function () {\n    return createTextVNode(...arguments);\n  }\n\n  Vue.prototype._s = function (value) {\n    if (!value) return;\n    // 这里为什么直接获取 value 就行，\n    // 因为这个 value 就是执行 render 的时候在通过 with 作用下直接获取到了 vm 代理后拿到 _data 的属性\n    return typeof value === 'object' ? JSON.stringify(value) : value;\n  }\n\n  Vue.prototype._d = function (baseObj, values) {\n    for (let i = 0; i < values.length; i += 2) {\n      const key = values[i];\n      if (typeof key === 'string' && key) {\n        baseObj[values[i]] = values[i + 1];\n      }\n    }\n    return baseObj;\n  }\n\n  Vue.prototype._render = function () {\n    const vm = this,\n      render = vm.$options.render,\n      vnode = render.call(vm); // 执行这个 render 的时候，会调用 _c、_v、_s 函数\n    return vnode;\n  }\n}\n\nexport {\n  renderMixin\n};","import { initMixin } from './code/init';\nimport { lifecycleMixin } from './code/instance/lifecycle';\nimport { renderMixin } from './code/vdom';\n\nfunction Vue(options) {\n    this._init(options);\n}\n\ninitMixin(Vue);\nlifecycleMixin(Vue);\nrenderMixin(Vue);\n\nexport default Vue;\n"],"names":["hasProto","inBrowser","window","UA","navigator","userAgent","toLowerCase","test","indexOf","isEdge","nextTick","watcher","nextTickHandler","run","bind","timerFunc","setImmediate","MessageChannel","channel","port","port2","port1","onmessage","postMessage","Promise","p","resolve","then","setTimeout","proxy","vm","target","key","Object","defineProperty","get","set","newValue","isObject","value","isArray","Array","def","data","enumerable","configurable","writable","remove","arr","item","length","index","splice","bailRE","parsePath","path","segments","split","obj","i","uid","Dep","constructor","id","subs","addSub","sub","push","removeSub","depend","addDep","notify","slice","l","update","targetStack","pushTarget","_target","popTarget","pop","VNode","tag","props","children","text","createElementVNode","attrs","createTextVNode","undefined","originArrMethods","prototype","arrayMethods","create","ARR_METHODS","forEach","method","args","result","apply","ob","__ob__","newArr","observeArray","dep","arrayKeys","getOwnPropertyNames","Observer","augment","protoAugment","copyAugment","walk","keys","defineReactive","observe","src","__proto__","val","property","getOwnPropertyDescriptor","getter","setter","childOb","call","dependArray","newVal","e","initState","_watchers","options","$options","methods","initData","computed","watch","_data","attribute","dynamicArgAttribute","ncname","qnameCapture","startTagOpen","RegExp","startTagClose","endTag","parseHtmlToAst","html","root","currentParent","stack","textEnd","startTagMatch","parseStartTag","start","tagName","endTagMatch","match","advance","end","substring","chars","attr","name","len","element","createASTElement","parent","trim","type","Window","defaultTagRE","dynamicAttrRE","formatProps","attrStr","dynamicAttrStr","dynamic","styleAttrs","subItem","JSON","stringify","generateChild","node","generate","lastIndex","textArr","exec","join","getChildren","el","map","c","code","compileToRenderFunction","ast","render","Function","console","log","queueWatcher","Watcher","expOrFn","lazy","deps","newDeps","depIds","Set","newDepIds","process","env","NODE_ENV","warn","cleanupDeps","has","add","clear","isUndef","v","isDef","ATTR","TEXT","REPLACE","REMOVE","patches","vnIndex","diff","oldVnode","vnode","vNodeWalk","vnPatch","attrsPatch","attrsWalk","childrenWalk","oldProps","newProps","hasOwnProperty","oldChildren","newChildren","child","idx","createElement","document","updateProps","appendChild","createTextNode","handleProps","rnode","removeAttribute","sKey","style","className","setAttribute","removeElement","isRealElement","nodeType","childNodes","childNode","removeNode","removeChild","finalPatches","doPatch","rnodeWalk","patch","patchAction","textContent","parentNode","replaceChild","nEl","parentElement","insertBefore","nextSibling","mountComponent","$el","template","charAt","updateComponent","_update","_render","_watcher","lifecycleMixin","Vue","prevVnode","_vnode","initMixin","_init","$mount","querySelector","outerHTML","renderMixin","_c","arguments","_v","_s","_d","baseObj","values"],"mappings":"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"}